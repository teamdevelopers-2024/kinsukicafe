import{r as O,j as o,L as je,g as Ge,b as Je,e as Qe}from"./index-DAiR3oa6.js";import Xe from"./Navbar-CBZCZxDR.js";import{a as J}from"./api-6F4pbJpc.js";import{s as Ze}from"./searchIcon-CH9qlvue.js";import{S as et}from"./SpinnerOnly-h6FUhjzO.js";import{s as B,a as tt,e as nt,S as ee}from"./sweetalert2.esm.all-B4pWJWnF.js";const rt=({setAddItemModal:t})=>{const[e,r]=O.useState(""),[a,l]=O.useState(""),[p,y]=O.useState(""),[s,C]=O.useState(!1),[h,b]=O.useState([]),[i,f]=O.useState({name:"",category:"",price:""});O.useEffect(()=>{(async()=>{try{const x=await J.getCatogory();console.log("result : ",x),x.error?B("!error","something went wrong!","error"):b(x.data)}catch(x){console.log(x)}})(),console.log("categories : ",h)},[]);const g=(w,x)=>k=>{w(k.target.value),f(Y=>({...Y,[x]:k.target.value===""?"This field is required.":""}))},v=()=>{let w=!0;const x={name:"",category:"",price:""};return e||(x.name="Name is required.",w=!1),a||(x.category="Category is required.",w=!1),p||(x.price="Price is required.",w=!1),f(x),w},S=async()=>{const w={name:e,category:a,price:p};if(v())try{C(!0);const x=await J.addItem(w);if(x.error){f({name:x.message});return}B("Success!","Item added successfully!","success"),t(!1)}catch(x){console.error(x),B("Error!","Failed to add item.","error")}finally{C(!1)}else console.log("Form has errors.")};return o.jsxs(o.Fragment,{children:[s&&o.jsx(je,{}),o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20"}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-30",children:o.jsxs("div",{className:"bg-gray-800 text-white rounded-lg shadow-lg p-6 w-full max-w-lg mx-auto",children:[o.jsx("h2",{className:"text-xl mb-4",children:"Add Item"}),o.jsx("div",{className:"mb-4",children:o.jsxs("label",{className:"block",children:[o.jsx("span",{className:"text-white",children:"Name"}),o.jsx("input",{type:"text",value:e.toUpperCase(),onChange:w=>r(w.target.value.toUpperCase()),placeholder:"Enter Name",className:"p-2 bg-gray-700 rounded w-full"}),i.name&&o.jsx("p",{className:"text-red-500 text-sm",children:i.name})]})}),o.jsx("div",{className:"mb-4",children:o.jsxs("label",{className:"block",children:[o.jsx("span",{className:"text-white",children:"Category"}),o.jsxs("select",{value:a,onChange:g(l,"category"),className:"p-2 bg-gray-700 rounded w-full",children:[o.jsx("option",{value:"",children:"Select Category"}),h.map((w,x)=>o.jsx("option",{id:x,value:w.name,children:w.name}))]}),i.category&&o.jsx("p",{className:"text-red-500 text-sm",children:i.category})]})}),o.jsx("div",{className:"mb-4",children:o.jsxs("label",{className:"block",children:[o.jsx("span",{className:"text-white",children:"Price"}),o.jsx("input",{type:"number",value:p,onChange:g(y,"price"),placeholder:"Enter Price",className:"p-2 bg-gray-700 rounded w-full"}),i.price&&o.jsx("p",{className:"text-red-500 text-sm",children:i.price})]})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{onClick:()=>t(!1),className:"bg-gray-600 text-white px-4 py-2 rounded",children:"Cancel"}),o.jsx("button",{onClick:S,className:"bg-teal-500 text-white px-4 py-2 rounded",children:"Save"})]})]})})]})};var ve={exports:{}},K={},Re={exports:{}},ot="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",at=ot,st=at;function De(){}function Ae(){}Ae.resetWarningCache=De;var lt=function(){function t(a,l,p,y,s,C){if(C!==st){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Ae,resetWarningCache:De};return r.PropTypes=r,r};Re.exports=lt();var Fe=Re.exports,ye={exports:{}},L={},be={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=b;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var r="none",a="contents",l=/input|select|textarea|button|object|iframe/;function p(i,f){return f.getPropertyValue("overflow")!=="visible"||i.scrollWidth<=0&&i.scrollHeight<=0}function y(i){var f=i.offsetWidth<=0&&i.offsetHeight<=0;if(f&&!i.innerHTML)return!0;try{var g=window.getComputedStyle(i),v=g.getPropertyValue("display");return f?v!==a&&p(i,g):v===r}catch{return console.warn("Failed to inspect element style"),!1}}function s(i){for(var f=i,g=i.getRootNode&&i.getRootNode();f&&f!==document.body;){if(g&&f===g&&(f=g.host.parentNode),y(f))return!1;f=f.parentNode}return!0}function C(i,f){var g=i.nodeName.toLowerCase(),v=l.test(g)&&!i.disabled||g==="a"&&i.href||f;return v&&s(i)}function h(i){var f=i.getAttribute("tabindex");f===null&&(f=void 0);var g=isNaN(f);return(g||f>=0)&&C(i,!g)}function b(i){var f=[].slice.call(i.querySelectorAll("*"),0).reduce(function(g,v){return g.concat(v.shadowRoot?b(v.shadowRoot):[v])},[]);return f.filter(h)}t.exports=e.default})(be,be.exports);var Le=be.exports;Object.defineProperty(L,"__esModule",{value:!0});L.resetState=dt;L.log=ft;L.handleBlur=re;L.handleFocus=oe;L.markForFocusLater=pt;L.returnFocus=mt;L.popWithoutFocus=ht;L.setupScopedFocus=vt;L.teardownScopedFocus=yt;var it=Le,ct=ut(it);function ut(t){return t&&t.__esModule?t:{default:t}}var Q=[],G=null,ge=!1;function dt(){Q=[]}function ft(){}function re(){ge=!0}function oe(){if(ge){if(ge=!1,!G)return;setTimeout(function(){if(!G.contains(document.activeElement)){var t=(0,ct.default)(G)[0]||G;t.focus()}},0)}}function pt(){Q.push(document.activeElement)}function mt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Q.length!==0&&(e=Q.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function ht(){Q.length>0&&Q.pop()}function vt(t){G=t,window.addEventListener?(window.addEventListener("blur",re,!1),document.addEventListener("focus",oe,!0)):(window.attachEvent("onBlur",re),document.attachEvent("onFocus",oe))}function yt(){G=null,window.addEventListener?(window.removeEventListener("blur",re),document.removeEventListener("focus",oe)):(window.detachEvent("onBlur",re),document.detachEvent("onFocus",oe))}var xe={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var r=Le,a=l(r);function l(s){return s&&s.__esModule?s:{default:s}}function p(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?p(s.activeElement.shadowRoot):s.activeElement}function y(s,C){var h=(0,a.default)(s);if(!h.length){C.preventDefault();return}var b=void 0,i=C.shiftKey,f=h[0],g=h[h.length-1],v=p();if(s===v){if(!i)return;b=g}if(g===v&&!i&&(b=f),f===v&&i&&(b=g),b){C.preventDefault(),b.focus();return}var S=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),w=S!=null&&S[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(w){var x=h.indexOf(v);if(x>-1&&(x+=i?-1:1),b=h[x],typeof b>"u"){C.preventDefault(),b=i?g:f,b.focus();return}C.preventDefault(),b.focus()}}t.exports=e.default})(xe,xe.exports);var bt=xe.exports,I={},gt=function(){},xt=gt,F={},Ie={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=r:window.ExecutionEnvironment=r})()})(Ie);var Ct=Ie.exports;Object.defineProperty(F,"__esModule",{value:!0});F.canUseDOM=F.SafeNodeList=F.SafeHTMLCollection=void 0;var wt=Ct,Ot=St(wt);function St(t){return t&&t.__esModule?t:{default:t}}var pe=Ot.default,_t=pe.canUseDOM?window.HTMLElement:{};F.SafeHTMLCollection=pe.canUseDOM?window.HTMLCollection:{};F.SafeNodeList=pe.canUseDOM?window.NodeList:{};F.canUseDOM=pe.canUseDOM;F.default=_t;Object.defineProperty(I,"__esModule",{value:!0});I.resetState=Pt;I.log=jt;I.assertNodeList=Ue;I.setElement=Rt;I.validateElement=Ce;I.hide=Dt;I.show=At;I.documentNotReadyOrSSRTesting=Ft;var Nt=xt,Et=Tt(Nt),Mt=F;function Tt(t){return t&&t.__esModule?t:{default:t}}var D=null;function Pt(){D&&(D.removeAttribute?D.removeAttribute("aria-hidden"):D.length!=null?D.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(D).forEach(function(t){return t.removeAttribute("aria-hidden")})),D=null}function jt(){}function Ue(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function Rt(t){var e=t;if(typeof e=="string"&&Mt.canUseDOM){var r=document.querySelectorAll(e);Ue(r,e),e=r}return D=e||D,D}function Ce(t){var e=t||D;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,Et.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Dt(t){var e=!0,r=!1,a=void 0;try{for(var l=Ce(t)[Symbol.iterator](),p;!(e=(p=l.next()).done);e=!0){var y=p.value;y.setAttribute("aria-hidden","true")}}catch(s){r=!0,a=s}finally{try{!e&&l.return&&l.return()}finally{if(r)throw a}}}function At(t){var e=!0,r=!1,a=void 0;try{for(var l=Ce(t)[Symbol.iterator](),p;!(e=(p=l.next()).done);e=!0){var y=p.value;y.removeAttribute("aria-hidden")}}catch(s){r=!0,a=s}finally{try{!e&&l.return&&l.return()}finally{if(r)throw a}}}function Ft(){D=null}var X={};Object.defineProperty(X,"__esModule",{value:!0});X.resetState=Lt;X.log=It;var te={},ne={};function Oe(t,e){t.classList.remove(e)}function Lt(){var t=document.getElementsByTagName("html")[0];for(var e in te)Oe(t,te[e]);var r=document.body;for(var a in ne)Oe(r,ne[a]);te={},ne={}}function It(){}var Ut=function(e,r){return e[r]||(e[r]=0),e[r]+=1,r},kt=function(e,r){return e[r]&&(e[r]-=1),r},Wt=function(e,r,a){a.forEach(function(l){Ut(r,l),e.add(l)})},qt=function(e,r,a){a.forEach(function(l){kt(r,l),r[l]===0&&e.remove(l)})};X.add=function(e,r){return Wt(e.classList,e.nodeName.toLowerCase()=="html"?te:ne,r.split(" "))};X.remove=function(e,r){return qt(e.classList,e.nodeName.toLowerCase()=="html"?te:ne,r.split(" "))};var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.log=Bt;Z.resetState=$t;function Ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ke=function t(){var e=this;Ht(this,t),this.register=function(r){e.openInstances.indexOf(r)===-1&&(e.openInstances.push(r),e.emit("register"))},this.deregister=function(r){var a=e.openInstances.indexOf(r);a!==-1&&(e.openInstances.splice(a,1),e.emit("deregister"))},this.subscribe=function(r){e.subscribers.push(r)},this.emit=function(r){e.subscribers.forEach(function(a){return a(r,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},ue=new ke;function Bt(){console.log("portalOpenInstances ----------"),console.log(ue.openInstances.length),ue.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function $t(){ue=new ke}Z.default=ue;var we={};Object.defineProperty(we,"__esModule",{value:!0});we.resetState=zt;we.log=Gt;var Kt=Z,Yt=Vt(Kt);function Vt(t){return t&&t.__esModule?t:{default:t}}var T=void 0,A=void 0,$=[];function zt(){for(var t=[T,A],e=0;e<t.length;e++){var r=t[e];r&&r.parentNode&&r.parentNode.removeChild(r)}T=A=null,$=[]}function Gt(){console.log("bodyTrap ----------"),console.log($.length);for(var t=[T,A],e=0;e<t.length;e++){var r=t[e],a=r||{};console.log(a.nodeName,a.className,a.id)}console.log("edn bodyTrap ----------")}function Se(){$.length!==0&&$[$.length-1].focusContent()}function Jt(t,e){!T&&!A&&(T=document.createElement("div"),T.setAttribute("data-react-modal-body-trap",""),T.style.position="absolute",T.style.opacity="0",T.setAttribute("tabindex","0"),T.addEventListener("focus",Se),A=T.cloneNode(),A.addEventListener("focus",Se)),$=e,$.length>0?(document.body.firstChild!==T&&document.body.insertBefore(T,document.body.firstChild),document.body.lastChild!==A&&document.body.appendChild(A)):(T.parentElement&&T.parentElement.removeChild(T),A.parentElement&&A.parentElement.removeChild(A))}Yt.default.subscribe(Jt);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(m){for(var d=1;d<arguments.length;d++){var _=arguments[d];for(var n in _)Object.prototype.hasOwnProperty.call(_,n)&&(m[n]=_[n])}return m},a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},l=function(){function m(d,_){for(var n=0;n<_.length;n++){var c=_[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(d,c.key,c)}}return function(d,_,n){return _&&m(d.prototype,_),n&&m(d,n),d}}(),p=O,y=Fe,s=z(y),C=L,h=V(C),b=bt,i=z(b),f=I,g=V(f),v=X,S=V(v),w=F,x=z(w),k=Z,Y=z(k);function V(m){if(m&&m.__esModule)return m;var d={};if(m!=null)for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(d[_]=m[_]);return d.default=m,d}function z(m){return m&&m.__esModule?m:{default:m}}function N(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}function P(m,d){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:m}function R(m,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(m,d):m.__proto__=d)}var me={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},$e=function(d){return d.code==="Tab"||d.keyCode===9},Ke=function(d){return d.code==="Escape"||d.keyCode===27},le=0,he=function(m){R(d,m);function d(_){N(this,d);var n=P(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,_));return n.setOverlayRef=function(c){n.overlay=c,n.props.overlayRef&&n.props.overlayRef(c)},n.setContentRef=function(c){n.content=c,n.props.contentRef&&n.props.contentRef(c)},n.afterClose=function(){var c=n.props,M=c.appElement,j=c.ariaHideApp,E=c.htmlOpenClassName,W=c.bodyOpenClassName,q=c.parentSelector,ie=q&&q().ownerDocument||document;W&&S.remove(ie.body,W),E&&S.remove(ie.getElementsByTagName("html")[0],E),j&&le>0&&(le-=1,le===0&&g.show(M)),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(h.returnFocus(n.props.preventScroll),h.teardownScopedFocus()):h.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),Y.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(h.setupScopedFocus(n.node),h.markForFocusLater()),n.setState({isOpen:!0},function(){n.openAnimationFrame=requestAnimationFrame(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var c=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:c},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(c){$e(c)&&(0,i.default)(n.content,c),n.props.shouldCloseOnEsc&&Ke(c)&&(c.stopPropagation(),n.requestClose(c))},n.handleOverlayOnClick=function(c){n.shouldClose===null&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(c):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(c){!n.props.shouldCloseOnOverlayClick&&c.target==n.overlay&&c.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(c){return n.ownerHandlesClose()&&n.props.onRequestClose(c)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(c,M){var j=(typeof M>"u"?"undefined":a(M))==="object"?M:{base:me[c],afterOpen:me[c]+"--after-open",beforeClose:me[c]+"--before-close"},E=j.base;return n.state.afterOpen&&(E=E+" "+j.afterOpen),n.state.beforeClose&&(E=E+" "+j.beforeClose),typeof M=="string"&&M?E+" "+M:E},n.attributesFromObject=function(c,M){return Object.keys(M).reduce(function(j,E){return j[c+"-"+E]=M[E],j},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return l(d,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(n,c){this.props.isOpen&&!n.isOpen?this.open():!this.props.isOpen&&n.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!c.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var n=this.props,c=n.appElement,M=n.ariaHideApp,j=n.htmlOpenClassName,E=n.bodyOpenClassName,W=n.parentSelector,q=W&&W().ownerDocument||document;E&&S.add(q.body,E),j&&S.add(q.getElementsByTagName("html")[0],j),M&&(le+=1,g.hide(c)),Y.default.register(this)}},{key:"render",value:function(){var n=this.props,c=n.id,M=n.className,j=n.overlayClassName,E=n.defaultStyles,W=n.children,q=M?{}:E.content,ie=j?{}:E.overlay;if(this.shouldBeClosed())return null;var Ye={ref:this.setOverlayRef,className:this.buildClassName("overlay",j),style:r({},ie,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Ve=r({id:c,ref:this.setContentRef,style:r({},q,this.props.style.content),className:this.buildClassName("content",M),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ze=this.props.contentElement(Ve,W);return this.props.overlayElement(Ye,ze)}}]),d}(p.Component);he.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},he.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(x.default),s.default.instanceOf(w.SafeHTMLCollection),s.default.instanceOf(w.SafeNodeList),s.default.arrayOf(s.default.instanceOf(x.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},e.default=he,t.exports=e.default})(ye,ye.exports);var Qt=ye.exports;function We(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function qe(t){function e(r){var a=this.constructor.getDerivedStateFromProps(t,r);return a??null}this.setState(e.bind(this))}function He(t,e){try{var r=this.props,a=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,a)}finally{this.props=r,this.state=a}}We.__suppressDeprecationWarning=!0;qe.__suppressDeprecationWarning=!0;He.__suppressDeprecationWarning=!0;function Xt(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,a=null,l=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?l="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(l="UNSAFE_componentWillUpdate"),r!==null||a!==null||l!==null){var p=t.displayName||t.name,y=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+p+" uses "+y+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+(l!==null?`
  `+l:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=We,e.componentWillReceiveProps=qe),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=He;var s=e.componentDidUpdate;e.componentDidUpdate=function(h,b,i){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:i;s.call(this,h,b,f)}}return t}const Zt=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Xt},Symbol.toStringTag,{value:"Module"})),en=Ge(Zt);Object.defineProperty(K,"__esModule",{value:!0});K.bodyOpenClassName=K.portalClassName=void 0;var _e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},tn=function(){function t(e,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}(),Be=O,de=ae(Be),nn=Je,fe=ae(nn),rn=Fe,u=ae(rn),on=Qt,Ne=ae(on),an=I,sn=cn(an),U=F,Ee=ae(U),ln=en;function cn(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function ae(t){return t&&t.__esModule?t:{default:t}}function un(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Me(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fn=K.portalClassName="ReactModalPortal",pn=K.bodyOpenClassName="ReactModal__Body--open",H=U.canUseDOM&&fe.default.createPortal!==void 0,Te=function(e){return document.createElement(e)},Pe=function(){return H?fe.default.createPortal:fe.default.unstable_renderSubtreeIntoContainer};function ce(t){return t()}var se=function(t){dn(e,t);function e(){var r,a,l,p;un(this,e);for(var y=arguments.length,s=Array(y),C=0;C<y;C++)s[C]=arguments[C];return p=(a=(l=Me(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),l),l.removePortal=function(){!H&&fe.default.unmountComponentAtNode(l.node);var h=ce(l.props.parentSelector);h&&h.contains(l.node)?h.removeChild(l.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},l.portalRef=function(h){l.portal=h},l.renderPortal=function(h){var b=Pe(),i=b(l,de.default.createElement(Ne.default,_e({defaultStyles:e.defaultStyles},h)),l.node);l.portalRef(i)},a),Me(l,p)}return tn(e,[{key:"componentDidMount",value:function(){if(U.canUseDOM){H||(this.node=Te("div")),this.node.className=this.props.portalClassName;var a=ce(this.props.parentSelector);a.appendChild(this.node),!H&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(a){var l=ce(a.parentSelector),p=ce(this.props.parentSelector);return{prevParent:l,nextParent:p}}},{key:"componentDidUpdate",value:function(a,l,p){if(U.canUseDOM){var y=this.props,s=y.isOpen,C=y.portalClassName;a.portalClassName!==C&&(this.node.className=C);var h=p.prevParent,b=p.nextParent;b!==h&&(h.removeChild(this.node),b.appendChild(this.node)),!(!a.isOpen&&!s)&&!H&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!U.canUseDOM||!this.node||!this.portal)){var a=this.portal.state,l=Date.now(),p=a.isOpen&&this.props.closeTimeoutMS&&(a.closesAt||l+this.props.closeTimeoutMS);p?(a.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,p-l)):this.removePortal()}}},{key:"render",value:function(){if(!U.canUseDOM||!H)return null;!this.node&&H&&(this.node=Te("div"));var a=Pe();return a(de.default.createElement(Ne.default,_e({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(a){sn.setElement(a)}}]),e}(Be.Component);se.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.oneOfType([u.default.instanceOf(Ee.default),u.default.instanceOf(U.SafeHTMLCollection),u.default.instanceOf(U.SafeNodeList),u.default.arrayOf(u.default.instanceOf(Ee.default))]),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func};se.defaultProps={isOpen:!1,portalClassName:fn,bodyOpenClassName:pn,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,r){return de.default.createElement("div",e,r)},contentElement:function(e,r){return de.default.createElement("div",e,r)}};se.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,ln.polyfill)(se);K.default=se;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=K,a=l(r);function l(p){return p&&p.__esModule?p:{default:p}}e.default=a.default,t.exports=e.default})(ve,ve.exports);var mn=ve.exports;const hn=Qe(mn),vn=({isOpen:t,onClose:e,item:r})=>{const[a,l]=O.useState(""),[p,y]=O.useState(""),[s,C]=O.useState([]),[h,b]=O.useState(""),[i,f]=O.useState(!1);O.useEffect(()=>{(async()=>{try{f(!0);const S=await J.getCatogory();console.log("result: ",S),S.error?B("Error","Something went wrong!","error"):(C(S.data),r&&(l(r.name||""),y(r.category||""),b(r.price||"")))}catch(S){console.log(S),B("Error","Could not fetch categories!","error")}finally{f(!1)}})()},[r]);const g=async v=>{console.log("submited"),v.preventDefault();try{f(!0);const S=await J.updateItem({price:h,name:a,category:p,id:r._id});S.error?B("Error",S.error.message||"An error occurred while updating the item.","error"):(B("Success","Item updated successfully!","success"),e())}catch(S){console.log(S)}finally{f(!1)}};return o.jsxs(o.Fragment,{children:[i&&o.jsx(je,{}),o.jsx(hn,{isOpen:t&&!i,onRequestClose:e,contentLabel:"Edit Item",className:"fixed inset-0 flex items-center justify-center",overlayClassName:"fixed inset-0 bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-600 mb-4",children:"Edit Item"}),o.jsxs("form",{onSubmit:g,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name:"}),o.jsx("input",{type:"text",value:a,onChange:v=>l(v.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category:"}),o.jsxs("select",{value:p,onChange:v=>y(v.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"",children:"Select Category"}),s.map(v=>o.jsx("option",{value:v.name,children:v.name},v.id))]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price:"}),o.jsx("input",{type:"number",value:h,onChange:v=>b(v.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{className:"flex justify-end",children:[o.jsx("button",{type:"submit",className:"mr-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition duration-200",children:"Save"}),o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition duration-200",children:"Cancel"})]})]})]})})]})},yn=()=>{const[t,e]=O.useState(!1),[r,a]=O.useState(""),[l,p]=O.useState([]),[y,s]=O.useState(1),[C,h]=O.useState(!1),[b,i]=O.useState(!1),[f,g]=O.useState({}),[v,S]=O.useState(!1),w=10;O.useEffect(()=>{(async()=>{try{h(!0);const P=await J.getItems();p(P.data),console.log("Fetched items",P.data)}catch(P){console.error("Error fetching items",P)}finally{h(!1)}})()},[t,b,v]);const x=Math.ceil(l.length/w),k=l.filter(N=>{const P=N.name.toLowerCase(),R=N.category?N.category.toLowerCase():"";return P.includes(r.toLowerCase())||R.includes(r.toLowerCase())}),Y=async N=>{const{value:P}=await ee.fire({title:"Confirm Updation",input:"password",inputLabel:"Please enter your password",inputPlaceholder:"Password",showCancelButton:!0,confirmButtonText:"Update",cancelButtonText:"Cancel",inputValidator:R=>{if(!R)return"You need to enter a password!";if(R!=="1234")return"Incorrect Password"}});P=="1234"&&(i(!0),g(N))},V=k.slice((y-1)*w,y*w),z=async N=>{const{value:P}=await ee.fire({title:"Confirm Deletion",input:"password",inputLabel:"Please enter your password",inputPlaceholder:"Password",showCancelButton:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel",inputValidator:R=>{if(!R)return"You need to enter a password!";if(R!=="1234")return"Incorrect Password"}});if(P==="1234")try{(await J.deleteItem(N)).error?ee.fire("Error","There was an error deleting the itme.","error"):(S(!v),ee.fire("Deleted!","Your itme has been deleted.","success"))}catch(R){console.error("Error deleting itme:",R),ee.fire("Error","There was an error deleting the itme.","error")}};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"bg-[#23346c] min-h-screen p-10",children:[o.jsxs("div",{className:"container p-6 mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-teal-400",children:"Items"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-[#00BDD6] bg-opacity-10 px-2 border border-[#00BDD6] rounded-lg",children:o.jsxs("div",{className:"flex flex-row",children:[o.jsx("img",{src:Ze,alt:""}),o.jsx("input",{type:"text",placeholder:"Search item...",className:"w-64 h-10 px-3 rounded bg-transparent text-white outline-none",onChange:N=>a(N.target.value)})]})}),o.jsx("button",{className:"flex flex-row bg-[#00A1B7] text-white font-semibold gap-1 px-4 py-2 rounded-md",onClick:()=>e(!0),children:"Add Item"})]})]}),o.jsx("div",{className:"overflow-x-auto p-2",children:o.jsxs("table",{className:"table-auto w-full text-left text-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-800",children:[o.jsx("th",{className:"px-4 py-2",children:"Name"}),o.jsx("th",{className:"px-4 py-2",children:"Category"}),o.jsx("th",{className:"px-4 py-2",children:"Price"}),o.jsx("th",{className:"px-4 py-2",children:"Action"})]})}),o.jsx("tbody",{className:"bg-gray-700",children:C?o.jsx("tr",{children:o.jsxs("td",{colSpan:"9",className:"text-center py-6",children:[o.jsx(et,{})," "]})}):V.length>0?V.map((N,P)=>o.jsxs("tr",{className:"border-t border-gray-600",children:[o.jsx("td",{className:"px-4 py-2",children:N.name}),o.jsx("td",{className:"px-4 py-2",children:N.category}),o.jsx("td",{className:"px-4 py-2",children:N.price}),o.jsxs("td",{className:"px-4 py-2 flex gap-3",children:[o.jsx(tt,{onClick:()=>z(N._id),className:"text-red-600 cursor-pointer"}),o.jsx(nt,{onClick:()=>Y(N),className:"text-blue-700 cursor-pointer"})]})]},P)):o.jsx("tr",{children:o.jsx("td",{colSpan:"9",className:"text-center pt-6 font-medium",children:"No Items..."})})})]})}),o.jsx("div",{className:"flex justify-between items-center my-4",children:k.length>0&&!C&&o.jsxs(o.Fragment,{children:[o.jsx("button",{disabled:y===1,onClick:()=>s(y-1),className:"bg-[#00A1B7] text-white font-semibold px-4 py-2 rounded-md disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Previous"}),o.jsxs("span",{className:"text-white",children:["Page ",y," of ",x]}),o.jsx("button",{disabled:y===x,onClick:()=>s(y+1),className:"bg-[#00A1B7] text-white font-semibold px-4 py-2 rounded-md disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Next"})]})})]}),t&&o.jsx(rt,{setAddItemModal:e}),o.jsx(vn,{isOpen:b,onClose:()=>i(!1),item:f})]})})},Sn=()=>o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx(yn,{})]});export{Sn as default};
